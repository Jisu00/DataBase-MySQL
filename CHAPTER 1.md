# CHAPTER 1 : 데이터베이스 시스템

## 목차

> - 01 | [데이터베이스와 데이터베이스 시스템](#01-데이터베이스와-데이터베이스-시스템)
> - 02 | [데이터베이스 시스템의 발전](#02-데이터베이스-시스템의-발전)
> - 03 | [파일 시스템과 DBMS](#03-파일-시스템과-dbms)
> - 04 | [데이터베이스 시스템의 구성](#04-데이터베이스-시스템의-구성)


## 01. 데이터베이스와 데이터베이스 시스템

#### 데이터, 정보, 지식

- 데이터 : 관찰의 결과로 나타난 정량적 혹은 정성적인 실제 값
- 정보 : 데이터에 의미를 부여한 것 (데이터가 모여 정보를 이룸)
- 지식 : 사물이나 현상에 대한 이해

#### 데이터베이스

: DATA + BASE, 조직에 필요한 정보를 얻기 위해 **논리적으로 연관된 데이터를 모아** 구조적으로 통합해 놓은 것

#### 데이터베이스 시스템

- 데이터의 검색과 변경 작업을 주로 실행
  - 변경 : 시간에 따라 변하는 데이터 값을 DB에 반영하기 위해 수행하는 삽입, 삭제, 수정 등의 작업
- **검색 빈도**와 **변경 빈도**가 높을수록 구축하기 어려움. (그 중, 변경 빈도가 높을수록 더욱 구축하기 어려움)

#### 데이터베이스의 개념

1. **통합된 데이터 (integrated data)** : 데이터를 통합하는 개념, 각자 사용하던 데이터의 중복을 최소화하여 데이터 불일치 현상 제거
2. **저장된 데이터 (stored data)** : 문서로 보관된 데이터가 아닌, 컴퓨터 저장장치에 저장된 데이터
3. **운영 데이터 (operational data)** : 조직의 목적을 위해 사용되는 데이터, 업무를 위한 검색을 목적
4. **공용 데이터 (shared data)** : 공동으로 사용되는 데이터

#### 데이터베이스의 특징

1. **실시간 접근성** : DB는 실시간으로 서비스 됨. (수 초 내에 결과를 서비스)
2. **계속적인 변화** : DB에 저장된 값 - 어느 한 순간의 상태 / 데이터 값은 시간에 따라 항상 변화하기 때문에 바뀐 데이터 값을 저장
3. **동시 공유** : 여러 사용자에게 동시에 공유, DB에 접근하는 프로그램이 여러개
4. **내용에 따른 참조** : 데이터 값에 따라 참조 ( ex. 학번을 통해 DB에서 학사 정보를 나타냄.)

#### 데이터베이스 시스템의 구성

![DB 시스템 구성](https://user-images.githubusercontent.com/62230430/109951229-c73cad00-7d20-11eb-9448-cc9f9e498465.png)

DBMS의 예로는 'MySQL'이 있고, 데이터 모델로는 관계형 DB가 있음.

<br/>

## 02. 데이터베이스 시스템의 발전

### 정보 시스템의 발전

1. **파일 시스템**

![파일](https://user-images.githubusercontent.com/62230430/109957797-c871d800-7d28-11eb-9428-8e941bf4def7.png)


- 데이터를 **파일 단위**로 **파일 서버**에 저장
- 각 응용 프로그램이 **독립적으로 파일을 다룸** -> 데이터의 중복 저장 가능성 존재
- 동시에 파일을 다루기 때문에 **데이터의 일관성 훼손** 가능성 존재  
  ex ) 영업과와 구매과에서 사용하는 재고 정보 파일 2개, 영업과에서 판매한 뒤의 재고 정보를 구매과에서 직접 입력하는 과정에서 오류가 생길 수 있음.


2. **데이터베이스 시스템**

![DB](https://user-images.githubusercontent.com/62230430/109957834-d45d9a00-7d28-11eb-800e-7a7d18758daa.png)


- **DBMS 서버**가 파일을 다룸.
- 데이터의 **일관성 유지**, **복구**, **동시 접근 제어** 등의 기능 수행  
  ex ) 영업과와 구매과에서 사용하는 재고 정보를 DB 하나에 집중 -> 재고 관리 효율적으로 가능


3. **웹 데이터베이스 시스템**

![WEB DB](https://user-images.githubusercontent.com/62230430/109957870-e0e1f280-7d28-11eb-9f2a-480ebbc42058.png)

- 현재 주로 사용
- 웹 브라우저에서 DB를 사용할 수 있도록 서비스하는 시스템
- 불특정 다수를 고객으로 함.

4. **분산 데이터베이스 시스템**

![분산 DB](https://user-images.githubusercontent.com/62230430/109958003-1090fa80-7d29-11eb-812b-d09468e054d8.png)

- 여러 곳에 분산된 DBMS 서버를 연결하여 운영하는 시스템
- 대규모의 응용 시스템에 사용

<br/>

## 03. 파일 시스템과 DBMS

#### 데이터를 저장하는 방법

1. 데이터를 프로그램 내부에 저장하는 방법  
  - 문제점 : 프로그램이 사라지면 데이터도 사라짐.
2. 파일 시스템을 사용하는 방법  
  - 문제점 : 새로운 데이터가 생길 때마다 프로그램 수정 후 다시 컴파일해야 함.
3. DBMS를 사용하는 방법  
  - 데이터 구조가 바뀌어도 다시 컴파일할 필요 없음.

<br/>

### 파일 시스템과 DBMS의 비교

#### 파일 시스템과 DBMS의 비교

| 구분 | 파일 시스템 | DBMS |
|:---:|:---:|:---:|
| 데이터 정의 및 저장 | 데이터 정의 : 응용 프로그램<br/>데이터 저장 : 파일 시스템 | 데이터 정의 : DBMS<br/>데이터 저장 : 데이터베이스|
| 데이터 접근 방법 | 응용 프로그램이 **파일**에 **직접 접근** | 응용 프로그램이 **DBMS**에 파일**접근 요청**|
| 사용 언어 | 자바, C++, C 등 | 자바, C++, C 등과 **SQL** |
| CPU / 주기억장치 사용 | 적음 | 많음 |

<br/>

- 파일 시스템으로 구축된 구매 및 판매 응용 프로그램

![image](https://user-images.githubusercontent.com/62230430/109967343-a1b99e80-7d34-11eb-99d4-b0c16dc8a6bf.png)

- DBMS로 구축된 구매 및 판매 응용 프로그램

![image](https://user-images.githubusercontent.com/62230430/109967382-ae3df700-7d34-11eb-98d2-bb6dc02c22d8.png)

#### DBMS의 장점

| 구분 | 파일 시스템 | DBMS |
|:---:|:---:|:---:|
| 데이터 중복 | 데이터를 파일 단위로 저장 -> 중복 가능 | DBMS를 이용하여 데이터를 공유 -> 중복 가능성 낮음 |
| 데이터 일관성 | 데이터의 중복 저장으로 **일관성 결여** | 중복 제거로 데이터 **일관성 유지** |
| 데이터 독립성 | 데이터 정의와 프로그램의 독립성 유지 불가능<br/>(연관 부분 모두 수정해야 함) | 데이터 정의와 프로그램 독립성 유지 가능 |
| 관리 기능 | 보통 | 데이터 복구, 보안, 동시성 제어, 데이터 관리 기능 등을 수행 |
| 프로그램 개발 생산성 | 나쁨 | 짧은 시간에 큰 프로그램 개발 가능 | 
| 기타 장점 | 별도의 소프트웨어 설치 필요 X (OS가 지원) | 데이터 무결성 유지, 데이터 표준 준수 용이 |

<br/>

## 04. 데이터베이스 시스템의 구성

#### 데이터베이스 시스템의 구성
![db 시스템 구성](https://user-images.githubusercontent.com/62230430/110733527-73bee780-8269-11eb-96b6-2b99d87aac0e.png)

DB는 운영체제가 제공하는 file system 기능 이용하여 file 형태로 저장됨.

<br/>

### 데이터베이스 언어

#### SQL
: Structured Query Language, 구조화된 질의어

- 데이터 정의어 (DDL, Data Definition Language)
- 데이터 조작어 (DML, Data Manipulation Language)  
  ex ) I (Insert), D (Delete), U (Update), S (Select)
- 데이터 제어어 (DCL, Data Control Language)

<br/>

- 질의 1-2 : Book 테이블에서 가격(price)이 10,000원 이상인 도서이름(bookname)과 출판사(pusblisher)를 검색하시오.


<Book 테이블>  

![Book 테이블](https://user-images.githubusercontent.com/62230430/110733822-f9db2e00-8269-11eb-8aaa-7661eab305e9.png)


```mysql
SELECT bookname, publisher
FROM   Book
Where  price >= 10000;
```

<결과>  

![result](https://user-images.githubusercontent.com/62230430/110733863-0c556780-826a-11eb-8a5d-7abb4215be9c.png)

<br/>

### 데이터베이스 사용자

- 일반 사용자 : 프로그래머가 개발한 프로그램을 이용하여 DB에 접근
- 응용 프로그래머 : 일반 사용자가 사용할 수 있도록 프로그램을 만드는 사람
- SQL 사용자 : 응용 프로그램으로 구현되어 있지 않은 업무 SQL로 처리
- 데이터베이스 관리자(DBA, Database Administrator) : DB 시스템 총괄, 설계/구현/유지보수 전 과정 담당

<br/>

### DBMS

: DataBase Management System

#### DBMS의 기능

![DBMS의 기능](https://user-images.githubusercontent.com/62230430/110734656-9e11a480-826b-11eb-9aef-e54cb4051912.png)

- 조작과 추출은 같이 취급
- 정의와 제어는 DBA 담당
- 조작과 추출은 응용 프로그래머 담당

<br/>

### 데이터 모델

**관계 데이터 모델**을 가장 많이 사용 ! 이 책에서도 관계 데이터 모델에 대해 다룸.

#### 관계 데이터 모델

- 속성 값 사용
- 2D table 형태 ([위의 table 예시](#sql)와 같은)

<br/>

### 데이터베이스의 개념적 구조

#### 3단계 데이터베이스 구조

![3단계 데이터베이스 구조](https://user-images.githubusercontent.com/62230430/110737483-cea80d00-8270-11eb-8d52-d7c00d4a5ce7.png)

(스키마 : DB의 구조와 제약조건에 관해 전반적인 명세를 기술한 것)

- 외부 단계 (외부 스키마)
  - 일반 사용자나 응용 프로그래머가 접근하는 계층
  - subset의 개념
  - 여러 개의 외부 스키마 존재 가능
- 개념 단계 (개념 스키마)
  - **전체** 데이터베이스의 정의를 의미
  - 조직별 하나만 존재, 하나의 DB에는 하나의 개념 스키마가 존재
  - DBA가 관리
- 내부 스키마
  - 물리적 저장 장치에 DB가 **실제로 저장되는 방법**의 표현 (ex. dataType)
  - 내부 스키마는 하나 
  - 인덱스, 데이터 레코드의 배치 방법, 데이터 압축 등에 관한 사항 포함
- 외부/개념 매핑 (연결)
  - 사용자의 **외부 스키마** ↔ **개념 스키마** 간의 매핑
  - 외부 스키마의 데이터가 개념 스키마의 어느 부분에 해당되는지 대응시킴.
- 개념/내부 매핑 (연결)
  - **개념 스키마** ↔ **내부 스키마** 간의 매핑
  - 개념 스키마가 내부 스키마의 **물리적 장치 어디에 어떤 방법**으로 저장되는지 대응시킴.


#### 데이터베이스 구조의 예 : 수강신청 데이터베이스 구조

- 수강신청 DB의 개념 스키마
![개념 스키마](https://user-images.githubusercontent.com/62230430/110738105-095e7500-8272-11eb-9fa2-676c1b254264.png)

- 수강등록 담당 부서에서 필요한 DB(외부 스키마 1)
![외부 스키마 1](https://user-images.githubusercontent.com/62230430/110738110-0e232900-8272-11eb-9d9d-4f3986131154.png)

- 시간표 담당 부서에서 필요한 DB(외부 스키마 2)
![외부 스키마 2](https://user-images.githubusercontent.com/62230430/110738159-22672600-8272-11eb-82bf-240178baac2f.png)

- 수강신청 DB의 내부 스키마
![내부 스키마](https://user-images.githubusercontent.com/62230430/110738198-3448c900-8272-11eb-8bad-0b524563e342.png)

<br/>

### 데이터 독립성

#### 논리적 데이터 독립성

- 외부 단계 ↔ 개념 단계 사이의 독립성
- 개념 스키마가 변경되어도 외부 스키망는 영향을 미치지 않도록 지원
- 논리적 구조가 변경되어도 응용 프로그램에는 영향이 없도록 하는 개념
- 쉽지 않음 (Hard)

#### 물리적 데이터 독립성

- 개념 단계 ↔ 내부 단계 사이의 독립성
- 내부 스키마가 변경되어도 개념 스키마에 영향을 미치지 않도록 지원
- 개념 스키마와 내부 스키마는 **DBMS가 관리**하기 때문에 쉬운 편 (Easy)











