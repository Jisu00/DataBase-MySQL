# CHAPTER 2 : 관계 데이터 모델

## 목차

> - 01 | [관계 데이터 모델의 개념](#01-관계-데이터-모델의-개념)
> - 02 | [무결성 제약조건](#02-무결성-제약조건)
> - 03 | [관계대수](#03-관계대수)


## 01. 관계 데이터 모델의 개념

### 릴레이션

#### 릴레이션(relation)
: 행과 열로 구성된 **테이블**

relation == table / **relationship** : 관계 (다른 것임 !)

#### 릴레이션 구조와 관련 용어

<도서 릴레이션(테이블)>

![image](https://user-images.githubusercontent.com/62230430/110878804-3583ff80-831f-11eb-8246-2df46e786e30.png)

<br/>

### 릴레이션 스키마

#### 스키마의 요소

- **속성** (attribute) : 릴레이션 스키마의 **열**
- **도메인** (domain) : **속성이 가질 수 있는** 값의 집합, 즉 **dataType의 집합**
- **차수** (degree) : 속성의 개수

#### 스키마의 표현

릴레이션 이름(속성1 : 도메인1, 속성2 : 도메인2, ...)

ex. 도서(도서 번호, 도서 이름, 출판사, 가격)

<br/>

### 릴레이션 인스턴스

#### 인스턴스 요소

- **튜플** (tuple) : 릴레이션의 **행**
- **카디날리티** (cardinality) : 튜플의 수

<br/>

### 릴레이션의 특징

**Table == Set(집합)**

1. 속성은 단일 값을 가짐.
2. 속성은 서로 다른 이름을 가짐.
3. 한 속성의 값은 모두 같은 도메인을 가짐.   
  (ex. integer로 도메인을 정의하면, integer만 지정할 수 있음.)  
4. 속성의 순서는 상관 없음. (순서가 달라도 릴레이션은 같은 것)
5. 릴레이션 내의 중복된 튜플은 허용하지 않음.
6. 튜플의 순서는 상관 없음.

<br/>

## 02. 무결성 제약조건

### 키
: 특정 튜플을 **유일하게 식별**할 때 사용하는 **속성** 혹은 **속성의 집합** (다중 선택 가능)

#### 키의 조건

- null 값이 없어야 함.
- 중복 값이 없어야 함.

<br/>

##### <마당 서점 데이터베이스>
![image](https://user-images.githubusercontent.com/62230430/111401860-760fbe80-870d-11eb-95ac-52b702a2419f.png)

#### 슈퍼키
: 튜플을 **유일하게 식별할 수 있는** 하나의 속성 혹은 속성의 집합

즉, 튜플을 유일하게 식별할 수 있는 값이면 모두 슈퍼키가 됨.

ex) [마당 서점 DB](#마당-서점-데이터베이스)의 **고객 릴레이션**에서 **고객번호와 주민번호를 포함한 모든 속성의 집합**이 슈퍼키

#### 후보키
: 튜플을 유일하게 식별할 수 있는 속성의 **최소 집합**

ex) [마당 서점 DB](#마당-서점-데이터베이스)의 **주문 릴레이션**에서 후보키는 두 속성을 합한 (고객번호, 도서번호)가 됨.

#### 기본키
: **여러 후보키 중 하나를 선정**하여 **대표**로 삼는 키 (만약 여러 개라면 특성을 반영하여 하나 선택)

- 기본키 선정 시 고려 사항
  - 중복되지 않아야 함.
  - NULL 값 허용하지 않음.
  - 최대한 적은 수의 속성을 가진 것.

- 릴레이션 스키마를 표현할 때, 기본키는 **밑줄을 그어 표시** : 릴레이션 이름(__속성1__, 속성2, ..., 속성N)
  ex) 고객(__고객번호__, 이름, 주민번호, 주소, 핸드폰)
      도서(__도서번호__, 도서이름, 출판사, 가격)
      
#### 대리키
: 일련번호 같은 가상의 속성을 만들어 기본키로 삼음

- 주문

![image](https://user-images.githubusercontent.com/62230430/111402666-f4209500-870e-11eb-99da-ea7062fcc724.png)

위에서 **주문번호**가 그 예 중 하나임.

#### 대체키
: 기본키로 선정되지 않은 후보키

#### 외래키
: 2개 이상의 릴레이션에 관계를 맺게 하는 키, **다른 릴레이션의 기본키를 참조**하는 속성

- 외래키 예시
![image](https://user-images.githubusercontent.com/62230430/111402796-321db900-870f-11eb-93ec-10f527d47875.png)

주문 릴레이션에서는 고객번호와 도서번호가 중복되지만, 고객 릴레이션이나 도서 릴레이션에서는 각각이 key의 역할을 함. -> **고객 릴레이션이나 도서 릴레이션에서 참조**함.






